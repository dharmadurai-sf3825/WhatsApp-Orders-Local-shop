
    <div class="products-container">
      <div class="header">
        <button mat-icon-button (click)="goBack()">
          <mat-icon>arrow_back</mat-icon>
        </button>
        <h1>{{ language === 'ta' ? 'பொருட்கள்' : 'Products' }}</h1>
      </div>

      <!-- Category Filter -->
      <div class="filters" *ngIf="categories.length > 0">
        <mat-chip-set aria-label="Category selection">
          <mat-chip [highlighted]="selectedCategory === null" (click)="filterByCategory(null)">
            {{ language === 'ta' ? 'அனைத்தும்' : 'All' }}
          </mat-chip>
          <mat-chip *ngFor="let category of categories" 
                    [highlighted]="selectedCategory === category.name"
                    (click)="filterByCategory(category.name)">
            {{ language === 'ta' && category.nameTA ? category.nameTA : category.name }}
          </mat-chip>
        </mat-chip-set>
      </div>

      <!-- Products Grid -->
      <div class="products-grid">
        <mat-card *ngFor="let product of filteredProducts" class="product-card">
          <div class="product-image" 
               (click)="viewProduct(product.id!)"
               [style.background-image]="product.imageUrl ? 'url(' + product.imageUrl + ')' : 'none'">
            <span class="badge" *ngIf="!product.inStock">
              {{ language === 'ta' ? 'கையிருப்பு இல்லை' : 'Out of Stock' }}
            </span>
          </div>
          <mat-card-content>
            <h3>{{ language === 'ta' && product.nameTA ? product.nameTA : product.name }}</h3>
            <p class="category">
              {{ language === 'ta' && product.categoryTA ? product.categoryTA : product.category }}
            </p>
            <p class="price">₹{{ product.price }} / {{ language === 'ta' && product.unitTA ? product.unitTA : product.unit }}</p>
          </mat-card-content>
          <mat-card-actions>
            <button mat-raised-button color="primary" 
                    [disabled]="!product.inStock"
                    (click)="addToCart(product)">
              <mat-icon>add_shopping_cart</mat-icon>
              {{ language === 'ta' ? 'கூடையில் சேர்' : 'Add' }}
            </button>
            <button mat-button (click)="viewProduct(product.id!)">
              {{ language === 'ta' ? 'பார்' : 'View' }}
            </button>
          </mat-card-actions>
        </mat-card>
      </div>

      <p *ngIf="filteredProducts.length === 0" class="no-products">
        {{ language === 'ta' ? 'பொருட்கள் இல்லை' : 'No products found' }}
      </p>

      <!-- Cart FAB -->
      <button mat-fab class="cart-fab whatsapp-btn" 
              *ngIf="cartCount > 0"
              (click)="navigateToCart()">
        <mat-icon [matBadge]="cartCount" matBadgeColor="warn">shopping_cart</mat-icon>
      </button>
    </div>
  
