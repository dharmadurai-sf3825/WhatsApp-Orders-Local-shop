
    <div class="home-container">
      <!-- Shop Header -->
      <div class="shop-header" *ngIf="shop">
        <div class="header-content">
          <div>
            <h1>{{ shop.name }}</h1>
            <p class="address" *ngIf="shop.address">
              <mat-icon>location_on</mat-icon>
              {{ shop.address }}
            </p>
          </div>
          <button mat-icon-button (click)="navigateToCart()" class="cart-button" [matBadge]="cartCount" matBadgeColor="warn" matBadgeSize="large">
            <mat-icon>shopping_cart</mat-icon>
          </button>
        </div>
      </div>

      <!-- Loading State -->
      <div class="loading-container" *ngIf="featuredProducts.length === 0 && !shop">
        <p>⏳ Loading products...</p>
      </div>

      <!-- No Products State -->
      <div class="no-products" *ngIf="featuredProducts.length === 0 && shop">
        <mat-icon>sentiment_very_dissatisfied</mat-icon>
        <p>{{ language === 'ta' ? 'வாழ்வாழ்க! பொருட்கள் இல்லை.' : 'No products available.' }}</p>
      </div>

      <!-- Categories Filter (Only show if categories exist) -->
      <div class="categories-section" *ngIf="categories.length > 0">
        <h2>{{ language === 'ta' ? 'வகைகளால் வடிகட்டு' : 'Filter by Category' }}</h2>
        <div class="categories-filter">
          <button mat-button 
                  [class.active]="selectedCategory === null"
                  (click)="selectCategory(null)"
                  class="category-filter-btn">
            {{ language === 'ta' ? 'அனைத்தும்' : 'All' }}
          </button>
          <button mat-button 
                  *ngFor="let category of categories"
                  [class.active]="selectedCategory === category.name"
                  (click)="selectCategory(category.name)"
                  class="category-filter-btn">
            <mat-icon class="category-icon">{{ getCategoryIcon(category) }}</mat-icon>
            <span>{{ language === 'ta' && category.nameTA ? category.nameTA : category.name }}</span>
          </button>
        </div>
      </div>

      <!-- Featured Products -->
      <div class="products-section" *ngIf="featuredProducts.length > 0">
        <div class="section-header">
          <h2>{{ language === 'ta' ? 'பிரபலமான பொருட்கள்' : 'Popular Items' }}</h2>
          <span class="product-count">{{ filteredProducts.length }} {{ language === 'ta' ? 'பொருட்கள்' : 'items' }}</span>
        </div>
        
        <div class="products-grid">
          <mat-card *ngFor="let product of filteredProducts" class="product-card" [class.out-of-stock]="!product.inStock">
            <div class="product-image-container"
                 [style.backgroundImage]="product.imageUrl ? 'url(' + product.imageUrl + ')' : 'none'"
                 class="product-image">
              <span class="badge out-of-stock-badge" *ngIf="!product.inStock">
                {{ language === 'ta' ? 'கையிருப்பு இல்லை' : 'Out of Stock' }}
              </span>
            </div>
            
            <mat-card-content>
              <div class="product-info">
                <h3 class="product-name">{{ language === 'ta' && product.nameTA ? product.nameTA : product.name }}</h3>
                <p class="product-category" *ngIf="product.category">
                  {{ language === 'ta' && product.categoryTA ? product.categoryTA : product.category }}
                </p>
                <p class="price">
                  <strong>₹{{ product.price }}</strong>
                  <span class="unit">/ {{ language === 'ta' && product.unitTA ? product.unitTA : product.unit }}</span>
                </p>
                <p class="description" *ngIf="product.description">
                  {{ (language === 'ta' && product.descriptionTA ? product.descriptionTA : product.description) | slice:0:60 }}...
                </p>
              </div>
            </mat-card-content>
            
            <mat-card-actions>
              <button mat-stroked-button color="primary" 
                      [disabled]="!product.inStock"
                      (click)="viewProduct(product.id!)"
                      class="btn-details">
                <mat-icon>info</mat-icon>
                {{ language === 'ta' ? 'விவரங்கள்' : 'Details' }}
              </button>
              <button mat-raised-button color="primary" 
                      [disabled]="!product.inStock"
                      (click)="addToCart(product)"
                      class="btn-add-cart">
                <mat-icon>add_shopping_cart</mat-icon>
                {{ language === 'ta' ? 'சேர்' : 'Add' }}
              </button>
            </mat-card-actions>
          </mat-card>
        </div>
      </div>
      
      <!-- View Cart FAB (Only show on mobile when cart has items) -->
      <button mat-fab *ngIf="cartCount > 0 && isMobile()" class="cart-fab whatsapp-btn" 
              (click)="navigateToCart()">
        <mat-icon [matBadge]="cartCount" matBadgeColor="warn">shopping_cart</mat-icon>
      </button>
